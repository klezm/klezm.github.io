@tailwind base;
/* @tailwind components; */
/* @tailwind utilities; */

/* TOC */

.my-toc {
  /* @apply my-box bg-orange-700 bg-opacity-20 */
  /* @apply rounded-md bg-sky-800 bg-opacity-20 border-2 border-slate-800 */
  /* https://flowbite.com/docs/components/card */
  /* @apply max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 */
  @apply rounded-md border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800;
}

/* Boxes */

.my-box {
  @apply flex w-fit max-w-[98vw] flex-col rounded-md px-5 md:flex-row md:items-center md:space-x-5;
}
.my-center {
  /* @apply lg:w-fit justify-self-center; */
  @apply lg:w-fit mx-auto;
  /* > div {} */
}
@layer base {
  .-my-bleed {
    /* @apply relative ml-[calc(-50vw+50%)] mr-[calc(-50vw+50%)]; */
    @apply mx-[calc(-49vw+50%)] w-auto md:mx-[inherit] md:w-[inherit] !important;
  }
}
.my-box-center {
  @apply my-box my-center;
  /* @apply my-box my-center -my-bleed; */
}
.comment-box-center {
  /* @apply bg-[#1da1f2]; */
  /* @apply box-decoration-clone bg-gray-300 sm:container sm:mx-auto mx-10; */
  /* @apply box-border h-32 w-32 p-4 border-4 flex; */
  /* @apply flex self-center items-center justify-evenly; */
  /* @apply flex items-center space-x-5 bg-black bg-opacity-20 border-spacing-10 box-border h-32 w-32 p-10 border-10; */
  /* @apply flex items-center space-x-5 bg-black bg-opacity-20 box-content border-x-8 border-transparent mx-10; */
  /* @apply flex items-center space-x-5 bg-slate-500 bg-opacity-20 mx-10 px-5 rounded-md w-fit; */
  /* @apply mx-10 flex w-fit items-center space-x-5 justify-self-center rounded-md bg-slate-500 bg-opacity-20 px-5; */
  @apply my-box-center bg-slate-500 bg-opacity-20 -my-bleed;
  /* mx-10 */

  /* & > .relative { */
  /* & > * {
    @apply !ml-0;
    margin-left: 0 !important;
  } */
}

.equation-bg {
  /* bg-blue-500 */
  /* @apply bg-gray-700 text-primary-content dark:bg-sky-900; */
  /* > :first-child {   */
  @apply bg-gray-700 text-white dark:bg-sky-900;
  /* } */
}

.equation-box {
  /* @apply equation-bg dsy-card max-w-fit px-2; */
  /* py-px */
  /* @apply equation-bg max-w-[98vw] rounded-md md:max-w-full w-fit; */
  @apply equation-bg max-w-[98vw] rounded-md md:max-w-full;
  /* @apply hover:overflow-scroll hover:overflow-x-visible md:px-2 w-[100%] */

  /* http://howtocenterincss.com/#contentType=div&horizontal=center&vertical=middle&browser.IE=none */
  /* display:flex;
  justify-content:center;
  align-items:center; */

  /* > :first-child {
    @apply rounded-t-md;
  } */

  & > .katex-display {
    @apply !my-0 py-[1em];
  }
}

/* .equation-box-center::before,
.equation-box-center::after {
  @apply px-2;
} */

/* .equation-box > .katex-display {
  @apply !my-0 py-[1em];
} */

.equation-box-center {
  @apply equation-box justify-self-center;
  /* @apply equation-box mx-auto w-fit -my-bleed; */
  /* @apply equation-box mx-auto; */
  /* @apply equation-box; */

  /* &::before, &::after { */
  > * {
    @apply px-2;
    /* padding: 0 0.5rem !important; */
  }
}

.equation-inline {
  /* Removing mathml from KaTeX rendering solves the issue for Firefox */

  /* @apply equation-bg max-w-fit justify-self-center rounded-md px-2 py-[3px]; */
  @apply equation-bg max-w-fit justify-self-center rounded-md px-2 py-[3px] whitespace-nowrap;
  /* @apply equation-bg max-w-fit justify-self-center rounded-md py-[3px] whitespace-nowrap border-x-[6px] border-transparent; */
  /* @apply equation-bg max-w-fit mx-auto rounded-md px-2 py-[3px] whitespace-nowrap; */
  /* @apply equation-bg max-w-fit rounded-md px-2 py-[3px] whitespace-nowrap; */
  /* white-space: nowrap; */
  /* display: inline-block; */

  > * > * {
    @apply whitespace-break-spaces;
  }
  /* @apply !inline; */

  /* > * {
    display: unset;
  } */

  /* > :first-child::before {
    @apply pl-2;
  } */

  /* >::before,
  >::after {
    content: " ";
    display: inline-block;
    width: 0;
    white-space: nowrap;
  }
  >::before {
    padding-right: 0.5rem;
  }
  >::after {
    padding-left: 0.5rem;
  } */

}

@layer base {
  .equation-cell {
    @apply equation-bg min-w-fit px-2;
  }
}

td:has(> .eq-cell) {
  @apply equation-cell;
}

/* Code Highlighting */

/* https://github.com/saadeghi/daisyui/blob/3cc4a18e7ec55d1fda2a722aadb9966afb9a9da9/src/components/styled/typography.css#L19-L42 */
.prose :where(code):not(:where([class~='not-prose'] *, pre *)) {
  @apply mx-[2px] rounded-md px-[5px] py-[3px] dark:bg-gray-500 dark:bg-opacity-50;
}

.table .th .tr {
  @apply border bg-gray-200 dark:bg-gray-700;
}

table {
  @apply table min-w-[100vw] md:min-w-full;
  /* min-width: 500px; */
}

div:has(> table) {
  overflow-x: auto;
  position: relative;
  max-width: 100vw;
  @apply -my-bleed;
}

/* Styling */

@layer {
  .md-bleed {
    @apply max-w-[98vw] md:max-w-full;
  }
}

article header h1 {
  /* @apply bg-gradient-to-br from-blue-500 from-20% to-white bg-clip-text !text-transparent inline-block; */
  @apply inline-block bg-gradient-to-br from-blue-500 from-0% to-fuchsia-500 to-90% bg-clip-text !text-transparent;
}

div:has(> pre > code) {
  /* color: red !important; */
  /* background-color: magenta !important; */
  /* @apply md-bleed; */
}
